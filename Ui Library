local Players = game:GetService('Players')
local UserInputService = game:GetService('UserInputService')
local TweenService = game:GetService('TweenService')

local player = Players.LocalPlayer
local playerGui = player:WaitForChild('PlayerGui')

local screenGui = Instance.new('ScreenGui')
screenGui.Name = 'ShadowStealHelper'
screenGui.Parent = playerGui
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

local toggleCircle = Instance.new('ImageButton')
toggleCircle.Name = 'ToggleCircle'
toggleCircle.Size = UDim2.new(0, 50, 0, 50)
toggleCircle.Position = UDim2.new(0, 20, 0, 20)

toggleCircle.Image = 'rbxassetid://109884256700214'
toggleCircle.ImageColor3 = Color3.fromRGB(255, 255, 255)
toggleCircle.Parent = screenGui

local toggleCorner = Instance.new('UICorner')
toggleCorner.CornerRadius = UDim.new(1, 0)
toggleCorner.Parent = toggleCircle

local toggleShadow = Instance.new('ImageLabel')
toggleShadow.Name = 'ToggleShadow'
toggleShadow.Size = UDim2.new(1, 20, 1, 20)
toggleShadow.Position = UDim2.new(0, -10, 0, -10)
toggleShadow.BackgroundTransparency = 1
toggleShadow.Image = 'rbxassetid://5554236805'
toggleShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
toggleShadow.ImageTransparency = 0.8
toggleShadow.ScaleType = Enum.ScaleType.Slice
toggleShadow.SliceCenter = Rect.new(23, 23, 277, 277)
toggleShadow.ZIndex = -1
toggleShadow.Parent = toggleCircle

local toggleOutline = Instance.new('UIStroke')
toggleOutline.Color = Color3.fromRGB(0, 100, 200)
toggleOutline.Thickness = 2
toggleOutline.Parent = toggleCircle

local toggleGradient = Instance.new('UIGradient')
toggleGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 255, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 255, 255)),
})
toggleGradient.Rotation = 90
toggleGradient.Parent = toggleCircle

local toggleShadow = Instance.new('ImageLabel')
toggleShadow.Name = 'ToggleShadow'
toggleShadow.Size = UDim2.new(1, 20, 1, 20)
toggleShadow.Position = UDim2.new(0, -10, 0, -10)
toggleShadow.BackgroundTransparency = 1
toggleShadow.Image = 'rbxassetid://5554236805'
toggleShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
toggleShadow.ImageTransparency = 0.8
toggleShadow.ScaleType = Enum.ScaleType.Slice
toggleShadow.SliceCenter = Rect.new(23, 23, 277, 277)
toggleShadow.ZIndex = -1
toggleShadow.Parent = toggleCircle

local toggleOutline = Instance.new('UIStroke')
toggleOutline.Color = Color3.fromRGB(0, 100, 200)
toggleOutline.Thickness = 2
toggleOutline.Parent = toggleCircle

local toggleGradient = Instance.new('UIGradient')
toggleGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 170, 255)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 100, 200)),
})
toggleGradient.Rotation = 90
toggleGradient.Parent = toggleCircle

local mainFrame = Instance.new('Frame')
mainFrame.Size = UDim2.new(0, 220, 0, 280)
mainFrame.Position = UDim2.new(0.9, -200, 0, 150)
mainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui
mainFrame.Active = true
mainFrame.Draggable = true
mainFrame.Visible = false

local shadow = Instance.new('ImageLabel')
shadow.Name = 'SYLLINSE'
shadow.Size = UDim2.new(1, 20, 1, 20)
shadow.Position = UDim2.new(0, -10, 0, -10)
shadow.BackgroundTransparency = 1
shadow.Image = 'rbxassetid://5554236805'
shadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
shadow.ImageTransparency = 0.8
shadow.ScaleType = Enum.ScaleType.Slice
shadow.SliceCenter = Rect.new(23, 23, 277, 277)
shadow.ZIndex = -1
shadow.Parent = mainFrame

local gradient = Instance.new('UIGradient')
gradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(25, 25, 35)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(10, 10, 15)),
})
gradient.Rotation = 90
gradient.Parent = mainFrame

local outline = Instance.new('UIStroke')
outline.Color = Color3.fromRGB(60, 60, 80)
outline.Thickness = 2
outline.Parent = mainFrame

local header = Instance.new('Frame')
header.Size = UDim2.new(1, 0, 0, 40)
header.Position = UDim2.new(0, 0, 0, 0)
header.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
header.BackgroundTransparency = 0.7
header.BorderSizePixel = 0
header.Parent = mainFrame

local headerGradient = Instance.new('UIGradient')
headerGradient.Color = ColorSequence.new({
    ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(20, 20, 30)),
})
headerGradient.Rotation = 90
headerGradient.Parent = header

local accent = Instance.new('Frame')
accent.Size = UDim2.new(1, 0, 0, 2)
accent.Position = UDim2.new(0, 0, 1, -2)
accent.BackgroundColor3 = Color3.fromRGB(0, 150, 255)
accent.BorderSizePixel = 0
accent.Parent = header

local titleContainer = Instance.new('Frame')
titleContainer.Size = UDim2.new(1, -50, 1, 0)
titleContainer.Position = UDim2.new(0, 10, 0, 0)
titleContainer.BackgroundTransparency = 1
titleContainer.Parent = header

local title = Instance.new('TextLabel')
title.Size = UDim2.new(1, 0, 0.6, 0)
title.Position = UDim2.new(0, 0, 0, 2)
title.BackgroundTransparency = 1
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Text = 'SYLLINSE'
title.Font = Enum.Font.GothamBlack
title.TextSize = 18
title.TextXAlignment = Enum.TextXAlignment.Left
title.TextYAlignment = Enum.TextYAlignment.Bottom
title.Parent = titleContainer

local subtitle = Instance.new('TextLabel')
subtitle.Size = UDim2.new(1, 0, 0.4, 0)
subtitle.Position = UDim2.new(0, 0, 0.6, 0)
subtitle.BackgroundTransparency = 1
subtitle.TextColor3 = Color3.fromRGB(180, 180, 220)
subtitle.Text = 'STEAL HELPER'
subtitle.Font = Enum.Font.Gotham
subtitle.TextSize = 14
subtitle.TextXAlignment = Enum.TextXAlignment.Left
subtitle.TextYAlignment = Enum.TextYAlignment.Top
subtitle.Parent = titleContainer

local controls = Instance.new('Frame')
controls.Size = UDim2.new(0, 40, 1, 0)
controls.Position = UDim2.new(1, -45, 0, 0)
controls.BackgroundTransparency = 1
controls.Parent = header

local minimizeBtn = Instance.new('TextButton')
minimizeBtn.Size = UDim2.new(0, 16, 0, 16)
minimizeBtn.Position = UDim2.new(0, 2, 0, 10)
minimizeBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
minimizeBtn.BorderSizePixel = 0
minimizeBtn.Text = '−'
minimizeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
minimizeBtn.Font = Enum.Font.GothamBold
minimizeBtn.TextSize = 14
minimizeBtn.Parent = controls

local minimizeOutline = Instance.new('UIStroke')
minimizeOutline.Color = Color3.fromRGB(80, 80, 100)
minimizeOutline.Thickness = 1
minimizeOutline.Parent = minimizeBtn

local closeBtn = Instance.new('TextButton')
closeBtn.Size = UDim2.new(0, 16, 0, 16)
closeBtn.Position = UDim2.new(0, 20, 0, 10)
closeBtn.BackgroundColor3 = Color3.fromRGB(40, 40, 50)
closeBtn.BorderSizePixel = 0
closeBtn.Text = '×'
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 14
closeBtn.Parent = controls

local closeOutline = Instance.new('UIStroke')
closeOutline.Color = Color3.fromRGB(80, 80, 100)
closeOutline.Thickness = 1
closeOutline.Parent = closeBtn

local buttonStates = {}

local contentContainer = Instance.new('Frame')
contentContainer.Size = UDim2.new(1, 0, 1, -40)
contentContainer.Position = UDim2.new(0, 0, 0, 40)
contentContainer.BackgroundTransparency = 1
contentContainer.Parent = mainFrame

local allButtonFrames = {}
local keybindButtons = {}
local buttonStates = {}

local function saveKeybinds()
    if not writefile then
        return
    end

    local keybindData = {}
    for buttonName, keybindInfo in pairs(keybindButtons) do
        keybindData[buttonName] = keybindInfo.currentKey
    end

    pcall(function()
        writefile(
            'syllinse.json',
            game:GetService('HttpService'):JSONEncode(keybindData)
        )
    end)
end

local function loadKeybinds()
    if not readfile or not isfile or not isfile('syllinse.json') then
        return
    end

    pcall(function()
        local data = game:GetService('HttpService')
            :JSONDecode(readfile('syllinse.json'))
        for buttonName, key in pairs(data) do
            if keybindButtons[buttonName] then
                keybindButtons[buttonName].currentKey = key
                keybindButtons[buttonName].button.Text = key
            end
        end
    end)
end

local function updateKeybind(buttonName, newKey)
    if keybindButtons[buttonName] then
        keybindButtons[buttonName].currentKey = newKey
        keybindButtons[buttonName].button.Text = newKey
        saveKeybinds()
    end
end

createButton = function(parent, text, position, size, callback, defaultKey)
    local buttonContainer = Instance.new('Frame')
    buttonContainer.Size = UDim2.new(1, 0, 0, size.Y.Offset)
    buttonContainer.Position = position
    buttonContainer.BackgroundTransparency = 1
    buttonContainer.Parent = parent
    local buttonFrame = Instance.new('Frame')
    buttonFrame.Size = UDim2.new(0.75, -5, 1, 0)
    buttonFrame.Position = UDim2.new(0, 0, 0, 0)
    buttonFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    buttonFrame.BorderSizePixel = 0
    buttonFrame.Parent = buttonContainer

    local buttonCorner = Instance.new('UICorner')
    buttonCorner.CornerRadius = UDim.new(0, 4)
    buttonCorner.Parent = buttonFrame

    local button = Instance.new('TextButton')
    button.Size = UDim2.new(1, 0, 1, 0)
    button.Position = UDim2.new(0, 0, 0, 0)
    button.BackgroundTransparency = 1
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.Text = text
    button.Font = Enum.Font.Gotham
    button.TextSize = 11
    button.Parent = buttonFrame

    local buttonOutline = Instance.new('UIStroke')
    buttonOutline.Color = Color3.fromRGB(60, 60, 80)
    buttonOutline.Thickness = 1
    buttonOutline.Parent = buttonFrame

    local buttonGradient = Instance.new('UIGradient')
    buttonGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(35, 35, 45)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(25, 25, 35)),
    })
    buttonGradient.Rotation = 90
    buttonGradient.Parent = buttonFrame
    local keybindFrame = Instance.new('Frame')
    keybindFrame.Size = UDim2.new(0.18, 0, 1, 0)
    keybindFrame.Position = UDim2.new(0.75, 5, 0, 0)
    keybindFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    keybindFrame.BorderSizePixel = 0
    keybindFrame.Parent = buttonContainer

    local keybindCorner = Instance.new('UICorner')
    keybindCorner.CornerRadius = UDim.new(0, 4)
    keybindCorner.Parent = keybindFrame

    local keybindButton = Instance.new('TextButton')
    keybindButton.Size = UDim2.new(1, 0, 1, 0)
    keybindButton.Position = UDim2.new(0, 0, 0, 0)
    keybindButton.BackgroundTransparency = 1
    keybindButton.TextColor3 = Color3.fromRGB(200, 200, 200)
    keybindButton.Text = defaultKey or 'NONE'
    keybindButton.Font = Enum.Font.Gotham
    keybindButton.TextSize = 10
    keybindButton.Parent = keybindFrame

    local keybindOutline = Instance.new('UIStroke')
    keybindOutline.Color = Color3.fromRGB(70, 70, 90)
    keybindOutline.Thickness = 1
    keybindOutline.Parent = keybindFrame

    local keybindGradient = Instance.new('UIGradient')
    keybindGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(40, 40, 50)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(30, 30, 40)),
    })
    keybindGradient.Rotation = 90
    keybindGradient.Parent = keybindFrame
    table.insert(allButtonFrames, buttonContainer)
    buttonStates[text] = false
    keybindButtons[text] = {
        frame = keybindFrame,
        button = keybindButton,
        currentKey = defaultKey or 'NONE',
        callback = callback,
    }
    local listening = false
    keybindButton.MouseButton1Click:Connect(function()
        listening = true
        keybindButton.Text = '...'
        keybindFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 80)

        local connection
        connection = UserInputService.InputBegan:Connect(
            function(input, gameProcessed)
                if gameProcessed then
                    return
                end

                if input.UserInputType == Enum.UserInputType.Keyboard then
                    local key = input.KeyCode.Name
                    updateKeybind(text, key)
                    keybindButtons[text].currentKey = key
                    keybindButton.Text = key
                    listening = false
                    keybindFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
                    connection:Disconnect()
                end
            end
        )
    end)
    UserInputService.InputBegan:Connect(function(input, gameProcessed)
        if gameProcessed then
            return
        end

        if input.UserInputType == Enum.UserInputType.Keyboard then
            local pressedKey = input.KeyCode.Name
            if
                keybindButtons[text]
                and keybindButtons[text].currentKey == pressedKey
            then
                buttonStates[text] = not buttonStates[text]

                if buttonStates[text] then
                    TweenService
                        :Create(
                            buttonFrame,
                            TweenInfo.new(0.2),
                            { BackgroundColor3 = Color3.fromRGB(0, 100, 200) }
                        )
                        :Play()
                    TweenService
                        :Create(
                            buttonOutline,
                            TweenInfo.new(0.2),
                            { Color = Color3.fromRGB(0, 150, 255) }
                        )
                        :Play()
                else
                    TweenService
                        :Create(
                            buttonFrame,
                            TweenInfo.new(0.2),
                            { BackgroundColor3 = Color3.fromRGB(25, 25, 35) }
                        )
                        :Play()
                    TweenService
                        :Create(
                            buttonOutline,
                            TweenInfo.new(0.2),
                            { Color = Color3.fromRGB(60, 60, 80) }
                        )
                        :Play()
                end
                if callback then
                    callback(buttonStates[text])
                end
            end
        end
    end)
    button.MouseEnter:Connect(function()
        if not buttonStates[text] then
            TweenService:Create(
                buttonFrame,
                TweenInfo.new(0.1),
                { BackgroundColor3 = Color3.fromRGB(40, 40, 50) }
            ):Play()
            TweenService:Create(
                buttonOutline,
                TweenInfo.new(0.1),
                { Color = Color3.fromRGB(80, 80, 120) }
            ):Play()
        end
    end)

    button.MouseLeave:Connect(function()
        if not buttonStates[text] then
            TweenService:Create(
                buttonFrame,
                TweenInfo.new(0.1),
                { BackgroundColor3 = Color3.fromRGB(25, 25, 35) }
            ):Play()
            TweenService:Create(
                buttonOutline,
                TweenInfo.new(0.1),
                { Color = Color3.fromRGB(60, 60, 80) }
            ):Play()
        end
    end)
    keybindButton.MouseEnter:Connect(function()
        if not listening then
            TweenService:Create(
                keybindFrame,
                TweenInfo.new(0.1),
                { BackgroundColor3 = Color3.fromRGB(50, 50, 60) }
            ):Play()
        end
    end)

    keybindButton.MouseLeave:Connect(function()
        if not listening then
            TweenService:Create(
                keybindFrame,
                TweenInfo.new(0.1),
                { BackgroundColor3 = Color3.fromRGB(30, 30, 40) }
            ):Play()
        end
    end)
    button.MouseButton1Down:Connect(function()
        TweenService:Create(
            buttonFrame,
            TweenInfo.new(0.05),
            { BackgroundColor3 = Color3.fromRGB(60, 60, 80) }
        ):Play()
    end)

    button.MouseButton1Up:Connect(function()
        buttonStates[text] = not buttonStates[text]

        if buttonStates[text] then
            TweenService:Create(
                buttonFrame,
                TweenInfo.new(0.2),
                { BackgroundColor3 = Color3.fromRGB(0, 100, 200) }
            ):Play()
            TweenService:Create(
                buttonOutline,
                TweenInfo.new(0.2),
                { Color = Color3.fromRGB(0, 150, 255) }
            ):Play()
            TweenService:Create(
                button,
                TweenInfo.new(0.2),
                { TextColor3 = Color3.fromRGB(255, 255, 255) }
            ):Play()
        else
            TweenService:Create(
                buttonFrame,
                TweenInfo.new(0.2),
                { BackgroundColor3 = Color3.fromRGB(25, 25, 35) }
            ):Play()
            TweenService:Create(
                buttonOutline,
                TweenInfo.new(0.2),
                { Color = Color3.fromRGB(60, 60, 80) }
            ):Play()
            TweenService:Create(
                button,
                TweenInfo.new(0.2),
                { TextColor3 = Color3.fromRGB(255, 255, 255) }
            ):Play()
        end
        if callback then
            callback(buttonStates[text])
        end
    end)

    return buttonContainer
end

local buttons = {}

for i, btnInfo in ipairs(buttons) do
    createButton(
        contentContainer,
        btnInfo.text,
        btnInfo.pos,
        btnInfo.size,
        function(state) end,
        btnInfo.key
    )
end

local isMinimized = false
local originalSize = mainFrame.Size
local minimizedSize = UDim2.new(0, 220, 0, 40)

local function toggleMinimize()
    isMinimized = not isMinimized

    if isMinimized then
        for _, buttonFrame in ipairs(allButtonFrames) do
            buttonFrame.Visible = false
        end
        shadow.Visible = false
        TweenService
            :Create(
                mainFrame,
                TweenInfo.new(
                    0.3,
                    Enum.EasingStyle.Quad,
                    Enum.EasingDirection.Out
                ),
                { Size = minimizedSize }
            )
            :Play()
        minimizeBtn.Text = '+'
    else
        for _, buttonFrame in ipairs(allButtonFrames) do
            buttonFrame.Visible = true
        end

        shadow.Visible = true
        TweenService
            :Create(
                mainFrame,
                TweenInfo.new(
                    0.3,
                    Enum.EasingStyle.Quad,
                    Enum.EasingDirection.Out
                ),
                { Size = originalSize }
            )
            :Play()
        minimizeBtn.Text = '−'
    end
end

minimizeBtn.MouseButton1Click:Connect(toggleMinimize)

local function setupControlButton(button, hoverColor)
    button.MouseEnter:Connect(function()
        TweenService
            :Create(
                button,
                TweenInfo.new(0.1),
                { BackgroundColor3 = hoverColor }
            )
            :Play()
    end)

    button.MouseLeave:Connect(function()
        TweenService:Create(
            button,
            TweenInfo.new(0.1),
            { BackgroundColor3 = Color3.fromRGB(40, 40, 50) }
        ):Play()
    end)
end

setupControlButton(minimizeBtn, Color3.fromRGB(80, 80, 120))
setupControlButton(closeBtn, Color3.fromRGB(220, 60, 60))

closeBtn.MouseButton1Click:Connect(function()
    TweenService
        :Create(mainFrame, TweenInfo.new(0.2), { BackgroundTransparency = 1 })
        :Play()
    TweenService:Create(shadow, TweenInfo.new(0.2), { ImageTransparency = 1 })
        :Play()
    wait(0.2)
    screenGui:Destroy()
end)

if UserInputService.TouchEnabled then
    mainFrame.Size = UDim2.new(0, 250, 0, 320)
    originalSize = mainFrame.Size
    minimizedSize = UDim2.new(0, 250, 0, 40)

    for _, buttonFrame in ipairs(allButtonFrames) do
        local textButton = buttonFrame:FindFirstChildOfClass('TextButton')
        if textButton and textButton.TextSize then
            textButton.TextSize = textButton.TextSize + 2
        end
    end
end

local menuVisible = false

local function toggleMenu()
    menuVisible = not menuVisible

    if menuVisible then
        mainFrame.Visible = true
        shadow.Visible = true

        header.Visible = true
        title.Visible = true
        subtitle.Visible = true
        controls.Visible = true
        minimizeBtn.Visible = true
        closeBtn.Visible = true

        contentContainer.Visible = true

        for _, buttonFrame in ipairs(allButtonFrames) do
            buttonFrame.Visible = true
        end

        TweenService:Create(mainFrame, TweenInfo.new(0.3), {
            Position = UDim2.new(0.9, -200, 0, 150),
            Size = originalSize,
        }):Play()
        TweenService:Create(shadow, TweenInfo.new(0.3), {
            ImageTransparency = 0.8,
        }):Play()
        TweenService:Create(toggleCircle, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.fromRGB(0, 100, 200),
        }):Play()
    else
        TweenService:Create(mainFrame, TweenInfo.new(0.3), {
            Position = UDim2.new(0.9, -100, 0, 150),
            Size = UDim2.new(0, 0, 0, 0),
        }):Play()
        TweenService:Create(shadow, TweenInfo.new(0.3), {
            ImageTransparency = 1,
        }):Play()
        TweenService:Create(toggleCircle, TweenInfo.new(0.3), {
            BackgroundColor3 = Color3.fromRGB(0, 150, 255),
        }):Play()

        wait(0.3)

        mainFrame.Visible = false
        shadow.Visible = false
        header.Visible = false
        title.Visible = false
        subtitle.Visible = false
        controls.Visible = false
        minimizeBtn.Visible = false
        closeBtn.Visible = false
        contentContainer.Visible = false

        for _, buttonFrame in ipairs(allButtonFrames) do
            buttonFrame.Visible = false
        end
    end
end

toggleCircle.MouseButton1Click:Connect(toggleMenu)

toggleCircle.MouseEnter:Connect(function()
    TweenService:Create(toggleCircle, TweenInfo.new(0.2), {
        BackgroundColor3 = Color3.fromRGB(0, 170, 255),
        Size = UDim2.new(0, 55, 0, 55),
    }):Play()
end)

toggleCircle.MouseLeave:Connect(function()
    TweenService:Create(toggleCircle, TweenInfo.new(0.2), {
        BackgroundColor3 = menuVisible and Color3.fromRGB(0, 100, 200)
            or Color3.fromRGB(0, 150, 255),
        Size = UDim2.new(0, 50, 0, 50),
    }):Play()
end)

local toggleDragging = false
local toggleDragInput, toggleDragStart, toggleStartPos

local function updateToggle(input)
    local delta = input.Position - toggleDragStart
    toggleCircle.Position = UDim2.new(
        toggleStartPos.X.Scale,
        toggleStartPos.X.Offset + delta.X,
        toggleStartPos.Y.Scale,
        toggleStartPos.Y.Offset + delta.Y
    )
end

toggleCircle.InputBegan:Connect(function(input)
    if
        input.UserInputType == Enum.UserInputType.MouseButton1
        or input.UserInputType == Enum.UserInputType.Touch
    then
        toggleDragging = true
        toggleDragStart = input.Position
        toggleStartPos = toggleCircle.Position

        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                toggleDragging = false
            end
        end)
    end
end)

toggleCircle.InputChanged:Connect(function(input)
    if
        input.UserInputType == Enum.UserInputType.MouseMovement
        or input.UserInputType == Enum.UserInputType.Touch
    then
        toggleDragInput = input
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input == toggleDragInput and toggleDragging then
        updateToggle(input)
    end
end)
